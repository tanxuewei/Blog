# 一些问题

## data 为什么是函数

## computed

以下代码中哪些变量变化会导致a变化

```js
computed {
  a () {
    console.log(this.b)
    return this.c + this.d
  }
}
```

## 父组件和子组件

父组件变化了，子组件没变，子组件会刷新么（react呢）

## nextTick

DOM更新完毕后执行一个回调

原理：

1. Vue用异步队列的方式来控制DOM更新和nexttick回调先后执行
2. microtask因为其高优先级属性，能确保队列中的微任务在一次事件循环前被执行完毕
3. 因为兼容性问题，vue不得不做了microtask向macrotask的降级方案

Promise -> MutationObserver -> setImmediate -> setTimeout

```js
// 修改数据
vm.msg = 'Hello'

// DOM 还没有更新

Vue.nextTick(function () {

// DOM 更新了

})

// 也可这样写
Vue.nextTick()
  .then(() => {
    // 回调
  })
```
