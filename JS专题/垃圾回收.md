# Chrome 浏览器垃圾回收机制与内存泄漏分析

通常情况下，垃圾数据回收分为**手动回收**和**自动回收**两种策略。

> 手动回收策略，何时分配内存、何时销毁内存都是由代码控制的。
> 自动回收策略，产生的垃圾数据是由垃圾回收器来释放的，并不需要手动通过代码来释放。

1、 JavaScript 中调用栈中的数据回收

JavaScript 引擎会通过向下移动 ESP (记录当前执行状态的指针)来销毁该函数保存在栈中的执行上下文。

2、 JavaScript 堆中的数据回收

在 V8 中会把堆分为 新生代 和 老生代 两个区域，新生代中存放的是生存时间短的对象，老生代中存放的生存时间久的对象。

新生区通常只支持 1～8M 的容量，而老生区支持的容量就大很多了。对于这两块区域，V8 分别使用两个不同的垃圾回收器，以便更高效地实施垃圾回收。

* 副垃圾回收器，主要负责新生代的垃圾回收。
* 主垃圾回收器，主要负责老生代的垃圾回收。

----
V8 引擎？
